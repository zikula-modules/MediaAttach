<!--[* $Id: MediaAttach_admin_modifyconfig.htm 220 2007-08-11 15:23:48Z weckamc $ *]-->
<!--[* Purpose of this template: Configuration *]-->

<!--[include file="MediaAttach_admin_header.htm"]-->

<div class="pn-admincontainer">
<div class="pn-adminpageicon"><!--[pnimg src="package_settings.gif" modname="core" set="icons/large" __alt="Configuration" ]--></div>

<h3><!--[pnimg src="package_settings.gif" modname="core" set="icons/extrasmall" style="margin-right: 5px"]--><!--[gt text="Configuration"]--></h3>

<!--[pnform id="MediaAttach_config" cssclass="maform" enctype="application/x-www-form-urlencoded"]-->
    <!--[pnformsetinitialfocus inputid="uploaddir"]-->
    <!--[pnformvalidationsummary]-->

    <fieldset>
        <legend><!--[gt text="General Settings"]--></legend>

        <dl id="configlist">
            <dt><label><!--[gt text="MediaAttach installation directory"]-->:</label></dt>
            <dd><!--[$mediaattachdir]--></dd>

            <dt><label><!--[gt text="HTML root"]-->:</label></dt>
            <dd><!--[$docroot]--></dd>

            <dt><!--[pnformlabel for="uploaddir" __text="Upload folder (absolute, ideally outside the HTML root):"]--></dt>
            <dd><!--[pnformtextinput id="uploaddir" size="40" maxLength="200" text=$pncore.MediaAttach.uploaddir]-->&nbsp;&nbsp;
                <!--[if !$updirexists]--><span class="dirnotokay"><!--[gt text="This directory does not exist"]--></span>
                <!--[elseif !$updirisdir]--><span class="dirnotokay"><!--[gt text="This is not a directory"]--></span>
                <!--[elseif !$updiriswritable]--><span class="dirnotokay"><!--[gt text="This directory is not writable for the web server"]--></span>
                <!--[else]--><span class="dirokay"><!--[gt text="Everything allright"]--></span>
                <!--[/if]-->
            </dd>

            <dt><!--[pnformlabel for="cachedir" __text="Cache folder (relative from HTML root):"]--></dt>
            <dd><!--[pnformtextinput id="cachedir" size="40" maxLength="200" text=$pncore.MediaAttach.cachedir]-->&nbsp;&nbsp;
                <!--[if !$cachedirexists]--><span class="dirnotokay"><!--[gt text="This directory does not exist"]--></span>
                <!--[elseif !$cachedirisdir]--><span class="dirnotokay"><!--[gt text="This is not a directory"]--></span>
                <!--[elseif !$cachediriswritable]--><span class="dirnotokay"><!--[gt text="This directory is not writable for the web server"]--></span>
                <!--[else]--><span class="dirokay"><!--[gt text="Everything allright"]--></span>
                <!--[/if]-->
            </dd>

    <!--[if $mailer]-->
            <dt><!--[pnformlabel for="mailfiles" __text="Allow users sending files in mails to theirselves"]--></dt>
            <dd><!--[pnformcheckbox id="mailfiles" checked=$pncore.MediaAttach.mailfiles]--></dd>

            <dt id="mailerdt"><!--[pnformlabel for="maxmailsize" __text="Maximum filesize for mails:"]--></dt>
            <dd id="mailerdd"><!--[pnformintinput id="maxmailsize" size="10" maxLength="10" __text=$maxmailsize]--> <!--[gt text="KB"]--></dd>
    <!--[/if]-->
            <dt><!--[pnformlabel for="usequota" __text="Activate quotas"]--></dt>
            <dd><!--[pnformcheckbox id="usequota" checked=$pncore.MediaAttach.usequota]--></dd>

            <dt><!--[pnformlabel for="ownhandling" __text="Users are able to edit and delete their own files"]--></dt>
            <dd><!--[pnformcheckbox id="ownhandling" checked=$pncore.MediaAttach.ownhandling]--></dd>

            <dt><!--[pnformlabel for="usefrontpage" __text="Activate frontpage in user section"]--></dt>
            <dd><!--[pnformcheckbox id="usefrontpage" checked=$pncore.MediaAttach.usefrontpage]--></dd>

            <dt><!--[pnformlabel for="useaccountpage" __text="Activate account page in user section"]--></dt>
            <dd><!--[pnformcheckbox id="useaccountpage" checked=$pncore.MediaAttach.useaccountpage]--></dd>
        </dl>
    </fieldset>
    <fieldset>
        <legend><!--[gt text="Image settings"]--></legend>

        <dl id="configlist2">
            <dt><!--[pnformlabel for="thumb1width" __text="Default sizes of thumbnails (you can create as many formats as desired):"]--></dt>
            <dd><ol style="margin-left: 0">
            <!--[pnformvolatile]-->
            <!--[foreach name="thumbLoop" item="thumbsize" from=$thumbsizes]-->
                <li>
                    <!--[pnformintinput id="thumb`$smarty.foreach.thumbLoop.iteration`width" size="6" maxLength="4" __text=$thumbsize[0]]--> x
                    <!--[pnformintinput id="thumb`$smarty.foreach.thumbLoop.iteration`height" size="6" maxLength="4" __text=$thumbsize[1]]--> <!--[gt text="pixels"]-->
                    <!--[pnformradiobutton id="defaultthumb`$smarty.foreach.thumbLoop.iteration`" value=$smarty.foreach.thumbLoop.iteration datafield='defaultthumb' mandatory='1']-->
                </li>
            <!--[/foreach]-->
                <li>
                    <!--[pnformintinput id="thumb`$smarty.foreach.thumbLoop.iteration+1`width" size="6" maxLength="4" text=""]--> x
                    <!--[pnformintinput id="thumb`$smarty.foreach.thumbLoop.iteration+1`height" size="6" maxLength="4" text=""]--> <!--[gt text="pixels"]-->
                </li>
            <!--[/pnformvolatile]-->
            </ol></dd>

            <dt><!--[pnformlabel for="shrinkimages" __text="Shrink big images"]--></dt>
            <dd><!--[pnformcheckbox id="shrinkimages" checked=$pncore.MediaAttach.shrinkimages]--></dd>

            <dt id="shrinksizedt"><!--[pnformlabel for="shrinkwidth" __text="Maximum image size:"]--></dt>
            <dd id="shrinksizedd"><!--[pnformintinput id="shrinkwidth" size="8" maxLength="4" __text=$pncore.MediaAttach.shrinkwidth]--> x
                <!--[pnformintinput id="shrinkheight" size="8" maxLength="4" __text=$pncore.MediaAttach.shrinkheight]--> <!--[gt text="pixels"]-->
            </dd>

            <dt><!--[pnformlabel for="usethumbcropper" __text="Allow cropping of thumbnails"]--></dt>
            <dd><!--[pnformcheckbox id="usethumbcropper" checked=$pncore.MediaAttach.usethumbcropper]--></dd>

            <dt id="cropsizemodedt"><!--[pnformlabel for="cropsizemode" __text="Behaviour of the selection tool"]--></dt>
            <dd id="cropsizemodedd"><!--[pnformdropdownlist id="cropsizemode"]--></dd>
        </dl>
    </fieldset>
    <fieldset>
        <legend><!--[gt text="Categorization settings"]--></legend>

        <dl id="configlist3">
            <dt><!--[pnformlabel for="catmodecategories" __text="MediaAttach categories (Categories module)"]--></dt>
            <dd><!--[pnformcheckbox id="catmodecategories" checked=$cat_use_categories]--></dd>

            <dt><!--[pnformlabel for="catmodemodules" __text="Modules"]--></dt>
            <dd><!--[pnformcheckbox id="catmodemodules" checked=$cat_use_modules]--></dd>

            <dt><!--[pnformlabel for="catmodeusers" __text="Users"]--></dt>
            <dd><!--[pnformcheckbox id="catmodeusers" checked=$cat_use_users]--></dd>

            <dt><!--[pnformlabel for="catdefaultmode" __text="Default mode:"]--></dt>
            <dd><!--[pnformdropdownlist id="catdefaultmode"]--></dd>
        </dl>
    </fieldset>
    <fieldset>
        <legend><!--[gt text="Action"]--></legend>
        <br />
        <!--[pnmodcallhooks hookobject="module" hookaction="modifyconfig" hookid="MediaAttach" module="MediaAttach"]-->
        <!--[pnformbutton id="submit" commandname="submit" __text="Save Settings"]-->
    </fieldset>
<!--[/pnform]-->
<script type="text/javascript" language="javascript">
/* <![CDATA[ */
    <!--[if $pncore.MediaAttach.mailfiles eq 0]-->
        $('mailerdt').hide();
        $('mailerdd').hide();
    <!--[/if]-->
    $('mailfiles').observe('click', maCheckMailerEntry);
    $('mailfiles').observe('keyup', maCheckMailerEntry);

    <!--[if $pncore.MediaAttach.shrinkimages eq 0]-->
        $('shrinksizedt').hide();
        $('shrinksizedd').hide();
    <!--[/if]-->
    $('shrinkimages').observe('click', maCheckShrinkEntry);
    $('shrinkimages').observe('keyup', maCheckShrinkEntry);

    <!--[if $pncore.MediaAttach.usethumbcropper eq 0]-->
        $('cropsizemodedt').hide();
        $('cropsizemodedd').hide();
    <!--[/if]-->
    $('usethumbcropper').observe('click', maCheckCropSizeEntry);
    $('usethumbcropper').observe('keyup', maCheckCropSizeEntry);

    $('catmodecategories').observe('change', maCheckCatMode1);
    $('catmodecategories').observe('keyup', maCheckCatMode1);
    $('catmodemodules').observe('change', maCheckCatMode2);
    $('catmodemodules').observe('keyup', maCheckCatMode2);
    $('catmodeusers').observe('change', maCheckCatMode3);
    $('catmodeusers').observe('keyup', maCheckCatMode3);
    $('catdefaultmode').observe('change', maCheckCatModes);
    $('catdefaultmode').observe('keyup', maCheckCatModes);
/* ]]> */
</script>
<br />
<!--[if $updirexists]-->
    <!--[if $updirisdir]-->
        <!--[if $updiriswritable && $htaccessexists == 0]-->
            <form action="<!--[pnmodurl modname="MediaAttach" type="admin" func="generatehtaccess"]-->" method="post" enctype="application/x-www-form-urlencoded" id="MediaAttach_htaccess" class="maform">
                <fieldset>
                    <p><!--[gt text="MediaAttach can automatically write a .htaccess file into your upload directory to avoid direct access to uploaded files. Notice that not all webservers support .htaccess files."]--></p>

                    <input name="submit" type="submit" value="<!--[gt text="Generate .htaccess"]-->" class="maadminright" />
                </fieldset>
            </form>
            <br />
        <!--[/if]-->
    <!--[/if]-->
<!--[/if]-->
<div class="configbox">
    <p style="font-weight: 700"><!--[gt text="Important settings in php.ini, which are relevant for uploads"]--></p>
    <dl id="inilist">
        <dt>open_basedir:</dt>
        <dd><!--[$open_basedir|default:"&nbsp;"]--></dd>
        <dt>upload_tmp_dir:</dt>
        <dd><!--[$upload_tmp_dir|default:"&nbsp;"]--></dd>
        <dt>file_uploads:</dt>
        <dd><!--[$file_uploads|default:"&nbsp;"]--></dd>
        <dt>upload_max_filesize:</dt>
        <dd><!--[$upload_max_filesize|default:"&nbsp;"]--></dd>
        <dt>post_max_size:</dt>
        <dd><!--[$post_max_size|default:"&nbsp;"]--></dd>
        <dt>max_input_time:</dt>
        <dd><!--[$max_input_time|default:"&nbsp;"]--></dd>
    </dl>
    <br style="clear: left" />
</div>
<br />
<div class="configbox">
    <p style="font-weight: 700"><!--[gt text="Version-Check"]--></p>

    <!--[gt text="Your Version"]-->: <!--[$yourversion]--><br />
    <!--[if $yourversion < $newestversion]-->
        <!--[gt text="There is a new Version available"]-->: <!--[$newestversion]--><br />
        <a href="http://code.zikula.org/mediaattach/downloads" title="<!--[gt text="Download the newest version of MediaAttach"]-->"><!--[gt text="Download now"]--></a><br />
    <!--[else]-->
        <!--[gt text="Your version is the newest"]-->
    <!--[/if]-->
</div>

</div>
<!--[include file="MediaAttach_admin_footer.htm"]-->