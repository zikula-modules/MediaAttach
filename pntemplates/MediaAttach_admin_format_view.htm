<!--[* $Id: MediaAttach_admin_format_view.htm 155 2006-09-11 20:11:19Z weckamc $ *]-->
<!--[* Purpose of this template: Format management *]-->

<!--[include file="MediaAttach_admin_header.htm"]-->

<div class="pn-admincontainer">
<div class="pn-adminpageicon"><!--[pnimg modname="core" src="windowlist.gif" set="icons/large" __alt="File formats"]--></div>

<h3><!--[pnimg src="inline_image.gif" modname="core" set="icons/extrasmall" style="margin-right: 5px"]--><!--[gt text="File formats"]--></h3>

<a id="new_format_switch" href="javascript:void(0);" style="display: none">
    <!--[gt text="Create a new filetype"]-->
</a>
<div id="new_format">
    <form id="newformatform" action="<!--[pnmodurl modname="MediaAttach" type="admin" func="createformat"]-->" method="post" enctype="application/x-www-form-urlencoded" class="maform">
        <fieldset>
            <legend><!--[gt text="Add filetype"]--></legend>
            <input type="hidden" name="authid" value="<!--[$authid]-->" />

            <label for="MediaAttach_extension" class="maleft"><!--[gt text="File type"]-->:</label>
            <input type="text" class="required validate-alphanum" id="MediaAttach_extension" name="extension" maxLength="5" /><br />
            <p id="advice-required-MediaAttach_extension" class="custom-advice" style="display: none"><!--[gt text="Please enter an extension for the new filetype."]--></p>
            <p id="advice-validate-alphanum-MediaAttach_extension" class="custom-advice" style="display: none"><!--[gt text="The extension may only contain letters and numbers."]--></p>

            <label for="MediaAttach_image" class="maleft"><!--[gt text="Image"]-->:</label>
            <!--[maimageselect selected="modules/MediaAttach/pnimages/formats/unknown.gif" type="formats"]--><br />

            <label for="MediaAttach_groups" class="maleft"><!--[gt text="Groups"]-->:</label>
            <select id="MediaAttach_groups" name="groups[]" size="10" multiple="multiple" style="width: 150px">
                <!--[foreach item="currentgroup" from=$groups]-->
                    <option value="<!--[$currentgroup.gid]-->" selected="selected"><!--[$currentgroup.groupname]--></option>
                <!--[/foreach]-->
            </select><br /><br />

            <input name="submit" type="submit" value="<!--[gt text="Add filetype"]-->" class="maright" />
        </fieldset>
    </form>
</div>

<script type="text/javascript" language="javascript">
    maInitFormatView();
</script>

<div class="matablecontainer">
<table summary="<!--[gt text="File formats"]-->">
    <colgroup>
        <col id="filetype" />
        <col id="groups" />
        <col id="actions" />
    </colgroup>
    <thead>
        <tr>
            <th id="f" scope="col" abbr="<!--[gt text="File type"]-->"><!--[gt text="File type"]--></th>
            <th id="g" scope="col" abbr="<!--[gt text="Groups"]-->"><!--[gt text="Groups"]--></th>
            <th id="a" scope="col" abbr="<!--[gt text="Actions"]-->"><!--[gt text="Actions"]--></th>
        </tr>
    </thead>
    <tbody>
        <!--[foreach item="fileType" from=$formats]-->
            <tr>
                <td headers="f">
                    <!--[pnimg src="formats/`$fileType.image`" modname="MediaAttach" alt=$fileType.extension style="padding-right: 5px"]-->
                    <!--[$fileType.extension]-->
                    <!--[foreach item="currentdanger" from=$danger]-->
                        <!--[if $fileType.extension eq $currentdanger]-->
                            <span style="color: red; font-weight: 700"><!--[gt text="Warning: Allowing this filetype can be a potential security risk!"]--></span>
                        <!--[/if]-->
                    <!--[/foreach]-->
                </td>
                <td headers="g">
                    <!--[foreach item="currentgroup" from=$fileType.groups]-->
                        <!--[pnimg src="folder/`$currentgroup.image`" modname="MediaAttach" __alt="icon" style="padding-right: 5px"]-->
                        <!--[$currentgroup.groupname]-->
                        <br />
                    <!--[/foreach]-->
                </td>
                <td headers="a" style="text-align: center" nowrap="nowrap">
                    <form action="<!--[pnmodurl modname="MediaAttach" type="admin" func="editformat]-->" method="post" style="display: inline">
                        <input type="hidden" name="fid" value="<!--[$fileType.fid]-->" />
                        <!--[pnimg src="edit.gif" modname="core" set="icons/extrasmall" assign="editimg"]-->
                        <input type="image" name="submit" src="<!--[$editimg.src]-->" alt="<!--[gt text="Edit"]-->" />
                    </form>
                    <form action="<!--[pnmodurl modname="MediaAttach" type="admin" func="deleteformat"]-->" method="post" style="display: inline">
                        <input type="hidden" name="fid" value="<!--[$fileType.fid]-->" />
                        <!--[pnimg src="edit_remove.gif" modname="core" set="icons/extrasmall" assign="delimg"]-->
                        <input type="image" name="submit" src="<!--[$delimg.src]-->" alt="<!--[gt text="Delete"]-->" />
                    </form>
                </td>
            </tr>
        <!--[/foreach]-->
    </tbody>
</table>
</div>

</div>
<!--[include file="MediaAttach_admin_footer.htm"]-->